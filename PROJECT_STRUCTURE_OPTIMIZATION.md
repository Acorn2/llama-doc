# é¡¹ç›®ç»“æ„ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

1. **æ¸…æ™°çš„åˆ†å±‚æ¶æ„**ï¼šAPIå±‚ -> æœåŠ¡å±‚ -> æ ¸å¿ƒå±‚ -> æ•°æ®å±‚
2. **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
3. **ä¾èµ–æ³¨å…¥**ï¼šå‡å°‘ç¡¬ç¼–ç ä¾èµ–ï¼Œæé«˜å¯æµ‹è¯•æ€§
4. **é…ç½®é›†ä¸­ç®¡ç†**ï¼šç»Ÿä¸€çš„é…ç½®ç®¡ç†æœºåˆ¶

## ğŸ“ ä¼˜åŒ–åçš„é¡¹ç›®ç»“æ„

```
app/
â”œâ”€â”€ api/                    # APIå±‚ - å¤„ç†HTTPè¯·æ±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ dependencies.py     # ä¾èµ–æ³¨å…¥
â”‚   â””â”€â”€ v1/                 # APIç‰ˆæœ¬ç®¡ç†
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ agent.py        # Agentç›¸å…³API
â”‚       â”œâ”€â”€ documents.py    # æ–‡æ¡£ç®¡ç†API
â”‚       â”œâ”€â”€ knowledge.py    # çŸ¥è¯†åº“API
â”‚       â””â”€â”€ system.py       # ç³»ç»ŸAPI
â”‚
â”œâ”€â”€ services/               # æœåŠ¡å±‚ - ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent_service.py    # Agentä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ document_service.py # æ–‡æ¡£å¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ knowledge_service.py# çŸ¥è¯†åº“æœåŠ¡
â”‚   â””â”€â”€ conversation_service.py # å¯¹è¯æœåŠ¡
â”‚
â”œâ”€â”€ core/                   # æ ¸å¿ƒå±‚ - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agents/             # Agentæ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py         # AgentåŸºç±»
â”‚   â”‚   â”œâ”€â”€ document_agent.py # æ–‡æ¡£åˆ†æAgent
â”‚   â”‚   â””â”€â”€ tools/          # Agentå·¥å…·
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ document_analyzer.py
â”‚   â”‚       â”œâ”€â”€ knowledge_searcher.py
â”‚   â”‚       â””â”€â”€ summarizer.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ document.py
â”‚   â”‚   â”œâ”€â”€ conversation.py
â”‚   â”‚   â””â”€â”€ knowledge_base.py
â”‚   â”‚
â”‚   â””â”€â”€ processors/         # æ•°æ®å¤„ç†å™¨
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ document_processor.py
â”‚       â””â”€â”€ text_processor.py
â”‚
â”œâ”€â”€ infrastructure/         # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ database/           # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ connection.py
â”‚   â”‚   â””â”€â”€ repositories/   # æ•°æ®è®¿é—®å±‚
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ document_repo.py
â”‚   â”‚       â””â”€â”€ conversation_repo.py
â”‚   â”‚
â”‚   â”œâ”€â”€ vector_stores/      # å‘é‡æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â””â”€â”€ qdrant_store.py
â”‚   â”‚
â”‚   â”œâ”€â”€ llm/               # å¤§è¯­è¨€æ¨¡å‹é›†æˆ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ factory.py
â”‚   â”‚   â”œâ”€â”€ qwen_adapter.py
â”‚   â”‚   â””â”€â”€ openai_adapter.py
â”‚   â”‚
â”‚   â””â”€â”€ storage/           # æ–‡ä»¶å­˜å‚¨
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ file_manager.py
â”‚
â”œâ”€â”€ config/                # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py        # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ logging.py         # æ—¥å¿—é…ç½®
â”‚
â”œâ”€â”€ schemas/               # æ•°æ®æ¨¡å¼å®šä¹‰
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api_schemas.py     # APIè¯·æ±‚/å“åº”æ¨¡å¼
â”‚   â”œâ”€â”€ agent_schemas.py   # Agentç›¸å…³æ¨¡å¼
â”‚   â””â”€â”€ document_schemas.py # æ–‡æ¡£ç›¸å…³æ¨¡å¼
â”‚
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ exceptions.py      # è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”œâ”€â”€ validators.py      # æ•°æ®éªŒè¯
â”‚   â””â”€â”€ helpers.py         # è¾…åŠ©å‡½æ•°
â”‚
â””â”€â”€ main.py               # åº”ç”¨å…¥å£
```

## ğŸ”§ å…³é”®ä¼˜åŒ–ç‚¹

### 1. åˆ†å±‚æ¶æ„
- **APIå±‚**ï¼šåªå¤„ç†HTTPè¯·æ±‚/å“åº”ï¼Œå‚æ•°éªŒè¯
- **æœåŠ¡å±‚**ï¼šä¸šåŠ¡é€»è¾‘ç¼–æ’ï¼Œäº‹åŠ¡ç®¡ç†
- **æ ¸å¿ƒå±‚**ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ŒAgentå®ç°
- **åŸºç¡€è®¾æ–½å±‚**ï¼šå¤–éƒ¨ç³»ç»Ÿé›†æˆï¼Œæ•°æ®è®¿é—®

### 2. ä¾èµ–æ³¨å…¥
- ä½¿ç”¨FastAPIçš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿ
- ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†
- ä¾¿äºå•å…ƒæµ‹è¯•

### 3. é…ç½®é›†ä¸­åŒ–
- æ‰€æœ‰é…ç½®é›†ä¸­åœ¨configæ¨¡å—
- ç¯å¢ƒå˜é‡ç®¡ç†
- ç±»å‹å®‰å…¨çš„é…ç½®

### 4. é”™è¯¯å¤„ç†
- ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- ç»“æ„åŒ–çš„é”™è¯¯å“åº”
- è¯¦ç»†çš„æ—¥å¿—è®°å½•

## ğŸ“‹ è¿ç§»è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ¶æ„é‡æ„
1. åˆ›å»ºæ–°çš„ç›®å½•ç»“æ„
2. é‡æ„é…ç½®ç®¡ç†
3. ç»Ÿä¸€å¼‚å¸¸å¤„ç†

### é˜¶æ®µ2ï¼šæ ¸å¿ƒåŠŸèƒ½è¿ç§»
1. é‡æ„Agentæ ¸å¿ƒæ¨¡å—
2. ä¼˜åŒ–æœåŠ¡å±‚è®¾è®¡
3. é‡æ„æ•°æ®è®¿é—®å±‚

### é˜¶æ®µ3ï¼šAPIå±‚ä¼˜åŒ–
1. é‡æ„è·¯ç”±ç»“æ„
2. ä¼˜åŒ–ä¾èµ–æ³¨å…¥
3. å®Œå–„APIæ–‡æ¡£

### é˜¶æ®µ4ï¼šæ¸…ç†å’Œæµ‹è¯•
1. ç§»é™¤å†—ä½™ä»£ç 
2. å®Œå–„å•å…ƒæµ‹è¯•
3. æ€§èƒ½ä¼˜åŒ–